{% comment %}
	Snippet for displaying transactions

	Use like
		<ul id="transactions">
			{% include 'snippets/transaction_history.html' %}
		</ul>
	Or
		<ul id="transactions">
			{% include 'transaction_history.html' with headless=True %}
		</ul>
	If `headless` is not defined or false, this snippet also includes
		transaction.js
		transaction_history.css
{% endcomment %}
{% load ledger %}
{% load static %}

{% if not headless %}
<script>
	const TRANSACTION_PRODUCT_URL = "{% url 'product_transaction' %}"
	const TRANSACTION_CUSTOM_URL = "{% url 'custom_transaction' %}"
	const TRANSACTION_REVERT_URL = "{% url 'revert_transaction' %}"
	const TRANSACTION_EVENT_URL = "{% url 'transaction_event' %}"
</script>
<script type="module" src="{% static 'ledger/transaction.js' %}"></script>
<link rel="stylesheet" href="{% static 'ledger/transaction_history.css' %}">
{% endif %}

<template id="transaction-template">
	{% include 'ledger/snippets/transaction.html' with transaction=None only %}
</template>

{% for transaction in transactions %}
	{% include 'ledger/snippets/transaction.html' with transaction=transaction only %}
{% empty %}
	<span class="separator" id="no-transactions">Keine Transaktionen gefunden</span>
{% endfor %}

