{% extends 'index.html' %}

{% block tab_title %}Anschreibeliste{% endblock tab_title %}
{% block title %}Anschreibeliste{% endblock title %}

{% block import %}
	{% load static %}
	{% load ledger %}

	<link rel="stylesheet" href="{% static 'ledger/index.css' %}">
	<script src="{% static 'ledger/main.js' %}" type="module"></script>
{% endblock import %}

{% block links %}
{{ block.super }}
<a href="{% url 'account_list' %}">Account-Liste</a>
{% endblock links %}

{% block content %}
<main data-active-slide="products">
	<style>
		[data-active-slide="products"] .slide-indicator[data-slide="products"],
		[data-active-slide="accounts"] .slide-indicator[data-slide="accounts"] {
			--bg: var(--secondary-bg-color);
		}
	</style>

	<div class="slide-bar">
		<h2 class="slide-indicator transparent button" data-slide="products">Getr√§nke</h2>
		<h2 class="slide-indicator transparent button" data-slide="accounts">Accounts</h2>
		<div style="flex-grow:1"></div>
		<div>
			<span id="transaction-multiplier" inputmode="numeric" contenteditable>1</span>
		</div>
	</div>

	<div class="slideshow">
		<div class="slide group-list" id="products" data-slide="products">
			{% include 'ledger/snippets/products.html' with items=products only %}
		</div>
		
		<div class="slide group-list" id="accounts" data-slide="accounts">
			{% include 'ledger/snippets/accounts.html' with items=accounts only %}
		</div>
	</div>
</main>
<div id="new-transaction" class="transaction">
	{% csrf_token %}
	<span class="account" empty>Select an account</span>
	<span class="product reason" empty> Select a product</span>
	<button type="button" class="undo transparent slim center button">
		<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash-2"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>
	</button>
</div>
<div>
	<ul id="transactions">
		{% include 'ledger/snippets/transaction_history.html' with transactions=transactions only %}
	</ul>
</div>
<template id="template-undo">
	<button class="undo button" type="button">
		<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-undo-2"><path d="M9 14 4 9l5-5"/><path d="M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11"/></svg>	</button>
</template>

<template id="template-status">
	<div class="status" data-status="pending">
		<svg data-status="pending" viewBox="0 0 12 12">
			<circle cx="6" cy="6" r="5"/>
		</svg>
		<svg data-status="success" viewBox="0 0 12 12">
			<polyline points="1.5 7 4 9 10 2"/>
		</svg>
		<svg data-status="failure" viewBox="0 0 12 12">
			<polyline points="3 9 9 3"/>
			<polyline points="3 3 9 9"/>
		</svg>
	</div>
</template>

{% endblock content %}
